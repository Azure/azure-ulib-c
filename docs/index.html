<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>uLib: Azure uLib C - PREVIEW</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">uLib
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Azure uLib C - PREVIEW </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="md_C__Users_spmcdono_Documents_dlm_azure_ulib_c_README"></a> <a href="https://azure-iot-sdks.visualstudio.com/azure-iot-stuben/_build/latest?definitionId=176&amp;branchName=master"><img src="https://azure-iot-sdks.visualstudio.com/azure-iot-stuben/_apis/build/status/azure-iot-ulib/azure-iot-ulib-build?branchName=master" alt="Build Status" class="inline"/></a></p>
<p><b>THIS REPO IS CURRENTLY IN PREVIEW. THE API'S ARE NOT FINAL AND ARE SUBJECT TO CHANGE WITHOUT NOTICE.</b></p>
<p>The intention of this repository is to provide developers useful tools to make developing for small, limited-resource devices easier.</p>
<p>This repository contains the following:</p>
<ul>
<li><a href="https://azure.github.io/azure-ulib-c/ustream__base_8h.html"><b>uStream</b></a>: avoid copying memory and expose large amounts of data without using a large amount of memory. Samples can be found <a href="https://github.com/Azure/azure-ulib-c/tree/master/samples">here</a>.</li>
<li><a href="https://azure.github.io/azure-ulib-c/ulog_8h.html"><b>uLog</b></a>: a small logging system with constant strings for reduced memory footprint.</li>
</ul>
<h1>Table of Contents</h1>
<ul>
<li><a href="#azure-ulib-c">Azure uLib C</a><ul>
<li><a href="#table-of-contents">Table of Contents</a></li>
<li><a href="#documentation">Documentation</a></li>
<li><a href="#the-gitHub-repository">The GitHub Repository</a><ul>
<li><a href="#structure">Structure</a></li>
<li><a href="#master-branch">Master Branch</a></li>
<li><a href="#release-branches-and-release-tagging">Release Branches and Release Tagging</a></li>
</ul>
</li>
<li><a href="#getting-started-using-the-ulib">Getting Started Using the uLib</a><ul>
<li><a href="#cmake">CMake</a></li>
<li><a href="#cmake-options">CMake Options</a></li>
<li><a href="#development-environment">Development Environment</a></li>
</ul>
</li>
<li><a href="#creating-your-own-ustream">Creating Your Own uStream</a></li>
<li><a href="#contributing">Contributing</a><ul>
<li><a href="#reporting-security-issues-and-security-bugs">Reporting Security Issues and Security Bugs</a></li>
<li><a href="#license">License</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<h1>Documentation</h1>
<p>We use <a href="https://www.doxygen.nl">doxygen</a> to generate documentation for source code. You can find the generated, versioned documentation <a href="https://azure.github.io/azure-ulib-c">here</a>.</p>
<h1>The GitHub Repository</h1>
<p>To get help with the uLib:</p>
<ul>
<li>File a <a href="https://github.com/Azure/azure-ulib-c/issues/new/choose">Github Issue</a>.</li>
</ul>
<h2>Structure</h2>
<p>This repo is structured with two priorities:</p>
<ol type="1">
<li>Separation of services/features to make it easier to find relevant information and resources.</li>
<li>Simplified source file structuring to easily integrate features into a user's project.</li>
</ol>
<p>&#160;&#160;&#160;&#160;<code>/docs</code> - documentation for each service (iot, etc)<br  />
 &#160;&#160;&#160;&#160;<code>/inc</code> - include directory - can be singularly included in your project to resolve all headers<br  />
 &#160;&#160;&#160;&#160;<code>/samples</code> - samples for each service<br  />
 &#160;&#160;&#160;&#160;<code>/src</code> - source files for each service<br  />
 &#160;&#160;&#160;&#160;<code>/tests</code> - tests for each service<br  />
</p>
<p>For instructions on how to consume the libraries via CMake, please see <a href="#cmake">here</a>. For instructions on how consume the source code in an IDE, command line, or other build systems, please see <a href="#source-files-ide-command-line-etc">here</a>.</p>
<h2>Master Branch</h2>
<p>The master branch has the most recent code with new features and bug fixes. This repo is under construction, so it does <b>not</b> represent the General Availability (<b>GA</b>) release of the uLib.</p>
<h2>Release Branches and Release Tagging</h2>
<p>When we make an official release, we will create a unique git tag containing the name and version to mark the commit. We'll use this tag for servicing via hotfix branches as well as debugging the code for a particular beta or stable release version.</p>
<h1>Getting Started Using the uLib</h1>
<p>The uLib can be conveniently consumed either via CMake or other non-CMake methods (IDE workspaces, command line, and others).</p>
<h2>CMake</h2>
<ol type="1">
<li>Install the required prerequisites:<ul>
<li><a href="https://cmake.org/download/">CMake</a> version 3.10 or later</li>
<li>C compiler: <a href="https://visualstudio.microsoft.com/downloads/#build-tools-for-visual-studio-2019">MSVC</a>, <a href="https://gcc.gnu.org/">gcc</a> or <a href="https://clang.llvm.org/">clang</a> are recommended</li>
<li><a href="https://git-scm.com/downloads">git</a> to clone our Azure uLib repository with the desired tag</li>
</ul>
</li>
<li>Clone our Azure uLib repository, optionally using the desired version tag. <pre class="fragment"> git clone https://github.com/Azure/azure-ulib-c --recursive
</pre></li>
<li>Ensure the uLib builds correctly.<ul>
<li>Create an output directory for your build artifacts (in this example, we named it <code>build</code>, but you can pick any name). ```bash mkdir build ```</li>
<li>Navigate to that newly created directory. ```bash cd build ``<code></code></li>
<li><code>Run</code>cmake<code>pointing to the sources at the root of the repo to generate the builds files. </code>``bash cmake .. ```</li>
<li>Launch the underlying build system to compile the libraries. ```bash cmake &ndash;build . ``` This results in building uLib as a static library file, placed in the output directory you created. It creates a few samples in that you can directly run from the samples directory.</li>
</ul>
</li>
</ol>
<h2>CMake Options</h2>
<p>By default, when building the project with no options, the following static libraries are generated:</p>
<ul>
<li><code>Libraries</code>:<ul>
<li>az_core<ul>
<li>az_span, az_http, az_json, etc.</li>
</ul>
</li>
<li>azure_ulib_c<ul>
<li>az_ustream, az_ipc, etc.</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>The following CMake options are available for adding/removing project features.</p>
<table class="doxtable">
<tr>
<td>Option </td><td>Description </td><td>Default Value  </td></tr>
<tr>
<td>UNIT_TESTING </td><td>Generates Unit Test for compilation. When turning this option ON, cmocka is a required dependency for compilation.<br  />
After Compiling, use <code>ctest</code> to run Unit Test. </td><td>OFF  </td></tr>
<tr>
<td>PRECONDITIONS </td><td>Turning this option OFF would remove all method contracts. This is typically for shipping libraries for production to make it as optimized as possible. </td><td>ON  </td></tr>
<tr>
<td>LOGGING </td><td>Build uLib with logging support using Azure Core Library's AZ_LOG. </td><td>ON  </td></tr>
<tr>
<td>SKIP_SAMPLES </td><td>When turning ON, the compiler will not build the samples. </td><td>OFF  </td></tr>
<tr>
</tr>
</table>
<table class="doxtable">
</table>
<p>example:</p><ul>
<li><p class="startli">to build uLib with samples and test</p>
<p class="startli">```bash cmake .. -DUNIT_TESTING:BOOL=ON ```</p>
</li>
<li><p class="startli">to build clean uLib</p>
<p class="startli">```bash cmake .. -DSKIP_SAMPLES:BOOL=ON -DPRECONDITIONS:BOOL=OFF ```</p>
</li>
</ul>
<h2>Development Environment</h2>
<p>Project contains files to work on Windows, Mac or Linux based OS.</p>
<p><b>Note</b> For any environment variables set to use with CMake, the environment variables must be set BEFORE the first cmake generation command (<code>cmake ..</code>). The environment variables will NOT be picked up if you have already generated the build files, set environment variables, and then regenerate. In that case, you must either delete the <code>CMakeCache.txt</code> file or delete the folder in which you are generating build files and start again.</p>
<h1>Creating Your Own uStream</h1>
<p>Using the specification listed <a href="https://azure.github.io/azure-ulib-c/ustream__base_8h.html">here</a> in the documentation, you can create your own implementation of a ustream. In order to ensure that it behaves according to the specification, we have created tests which you can run against your implementation. You can use <code>ustream_ut_sample.c</code> and <code>ustream_e2e_sample.c</code> in <a href="tests/tests_sample">tests_sample</a> as a reference. <code>TODO</code>'s have been placed in the sample files to help guide what you need to implement.</p>
<h1>Contributing</h1>
<p>For details on contributing to this repository, see the <a href="https://github.com/Azure/azure-sdk-for-c/blob/master/CONTRIBUTING.md">contributing guide</a>.</p>
<p>This project welcomes contributions and suggestions. Most contributions require you to agree to a Contributor License Agreement (CLA) declaring that you have the right to, and actually do, grant us the rights to use your contribution. For details, visit <a href="https://cla.microsoft.com">https://cla.microsoft.com</a>.</p>
<p>When you submit a pull request, a CLA-bot will automatically determine whether you need to provide a CLA and decorate the PR appropriately (e.g., label, comment). Simply follow the instructions provided by the bot. You will only need to do this once across all repositories using our CLA.</p>
<p>This project has adopted the <a href="https://opensource.microsoft.com/codeofconduct/">Microsoft Open Source Code of Conduct</a>. For more information see the <a href="https://opensource.microsoft.com/codeofconduct/faq/">Code of Conduct FAQ</a> or contact <a href="#" onclick="location.href='mai'+'lto:'+'ope'+'nc'+'ode'+'@m'+'icr'+'os'+'oft'+'.c'+'om'; return false;">opencode@microsoft.com</a> with any additional questions or comments.</p>
<h2>Reporting Security Issues and Security Bugs</h2>
<p>Security issues and bugs should be reported privately, via email, to the Microsoft Security Response Center (MSRC) <a href="#" onclick="location.href='mai'+'lto:'+'sec'+'ur'+'e@m'+'ic'+'ros'+'of'+'t.c'+'om'; return false;">secur<span style="display: none;">.nosp@m.</span>e@mi<span style="display: none;">.nosp@m.</span>croso<span style="display: none;">.nosp@m.</span>ft.c<span style="display: none;">.nosp@m.</span>om</a>. You should receive a response within 24 hours. If for some reason you do not, please follow up via email to ensure we received your original message. Further information, including the MSRC PGP key, can be found in the <a href="https://www.microsoft.com/msrc/faqs-report-an-issue">Security TechCenter</a>.</p>
<h2>License</h2>
<p>Azure uLib C is licensed under the <a href="https://github.com/Azure/azure-sdk-for-c/blob/master/LICENSE">MIT</a> license. </p>
</div></div><!-- PageDoc -->
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
